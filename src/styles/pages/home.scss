@import '../partial';

.home {
   height: 100vh;
   width: 100%;
   display: flex;
   color: #ffff;

   .searchbar {
      display: flex;
      flex-direction: column;
      width: 25%;
      height: 100%;
      padding: 1.5rem 1.5rem 0.5rem 1.5rem;
      background-color: $primary;

      h1 {
         // margin-top: 0.5rem;
         font-size: 3rem;
      }

      .search {
         margin: 1rem 0 2rem 0;
         width: 100%;
         height: 2.5rem;

         input {
            width: 100%;
            height: 100%;
            padding: 0 1rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            background-color: $secondary;
            color: #ffffff;
            outline: none;
            &::placeholder {
               font-size: 0.8rem;
               font-weight: 400;
            }
         }
      }

      .users {
         display: flex;
         flex-direction: column;
         gap: 1.5rem;
         width: 100%;
         height: calc(100% - 9rem);
         border-bottom: 1px solid grey;

         .user,
         .found_user {
            display: flex;
            width: 100%;
            height: 3.5rem;
            gap: 1rem;
            cursor: pointer;

            .user_photo {
               width: 20%;

               img {
                  width: 3.5rem;
                  height: 3.5rem;
                  border-radius: 50%;
                  object-fit: cover;
               }
            }

            .user_info {
               width: 80%;
               display: flex;
               flex-direction: column;

               .user_name {
                  max-height: 50%;
                  padding-top: 0.25rem;
                  font-size: 1.2rem;
                  font-weight: 600;
                  overflow: hidden;
               }

               .user_last-message {
                  max-height: 50%;
                  font-size: 0.9rem;
                  overflow: hidden;
               }
            }
         }
      }

      //scroll behavior
      .users {
         overflow: scroll;
         -ms-overflow-style: none;
         scrollbar-width: none;
         overflow-y: scroll;
      }
      .users::-webkit-scrollbar {
         display: none;
      }
   }

   .chat {
      width: 50%;
      height: 100%;
      background-color: $secondary;

      .chat_info {
         width: 100%;
         height: 12%;
         background-color: #282932;
         display: flex;
         align-items: center;

         .user_photo {
            margin: 0 1rem 0 2rem;
            img {
               width: 3.8rem;
               height: 3.8rem;
               object-fit: cover;
               border-radius: 50%;
            }
         }

         .user_info {
            margin-right: auto;
            p {
               font-size: 2.5rem;
               font-weight: 500;
            }
         }

         .action_icons {
            margin: 0 2rem 0 1rem;
            img {
               width: 2rem;
               height: 2rem;
               margin-left: 1rem;
               object-fit: cover;
               cursor: pointer;
            }
         }
      }

      .chat_messages {
         display: flex;
         flex-direction: column;
         gap: 2rem;
         width: 100%;
         height: 80%;
         padding: 2rem;

         .message {
            display: flex;
            gap: 1.5rem;

            .user-photo {
               width: 3rem;
               height: 3rem;
               border-radius: 50%;
               overflow: hidden;

               img {
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
               }
            }

            .message-container {
               max-width: 60%;

               .message-info {
                  display: flex;
                  align-items: center;
                  gap: 1rem;

                  .message-date {
                     font-size: 0.6rem;
                     color: #838593;
                     margin-top: auto;
                  }
               }

               .message-content {
                  margin-top: 0.2rem;
                  padding: 0.5rem 1rem;
                  background-color: #606f85;
                  border-radius: 0 0.6rem 0.6rem 0.6rem;
                  width: fit-content;

                  //breaks
                  -ms-word-break: break-all;
                  word-break: break-all;
                  word-break: break-word;
                  //hyphens
                  -webkit-hyphens: auto;
                  -moz-hyphens: auto;
                  -ms-hyphens: auto;
                  hyphens: auto;

                  img {
                     width: 100%;
                     border-radius: 0.5rem;
                  }

                  p {
                     font-size: 1.15rem;
                  }
               }
            }
         }

         .owner {
            flex-direction: row-reverse;

            .message-container {
               .message-info {
                  flex-direction: row-reverse;
               }

               .message-content {
                  border-radius: 0.6rem 0 0.6rem 0.6rem;
                  margin-left: auto;

                  p {
                     text-align: end;
                  }
               }
            }
         }
      }

      //scroll behavior
      .chat_messages {
         overflow: scroll;
         -ms-overflow-style: none;
         scrollbar-width: none;
         overflow-y: scroll;
      }
      .chat_messages::-webkit-scrollbar {
         display: none;
      }

      .chat_input {
         width: 100%;
         height: 8%;
         background-color: #282932;
         display: flex;
         align-items: center;
         justify-content: center;

         .input-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 85%;
            height: 2.2rem;
            padding: 0 1.5rem 0 0.2rem;
            border-radius: 1rem;
            background-color: $secondary;
            overflow: hidden;

            form {
               display: flex;
               align-items: center;
               width: 88%;
               input {
                  height: 2rem;
                  width: calc(100% - 2rem);
                  color: #ffffff;
                  padding: 0 1.5rem;
                  border: none;
                  background-color: transparent;
                  outline: none;
               }
               button {
                  width: 2rem;
                  height: 1.5rem;
                  background-color: transparent;
                  cursor: pointer;
                  border: none;
                  outline: none;

                  img {
                     width: 100%;
                     height: 100%;
                     object-fit: cover;
                  }
               }
            }

            .additional-actions {
               @include flexCenter;
               gap: 0.3rem;
               img {
                  width: 1.7rem;
                  height: 1.7rem;
                  cursor: pointer;
               }
            }
         }
      }
   }

   .sidebar {
      width: 25%;
      height: 100%;
      padding: 1.5rem;
      background-color: $primary;

      .user_info {
         @include flexCenter;
         width: 100%;
         height: 40%;
         flex-direction: column;
         gap: 0.1rem;

         .user_name {
            font-size: 2rem;
            font-weight: 500;
         }
         .user_mail {
            font-size: 0.8rem;
            color: #838593;
         }

         img {
            width: 10rem;
            height: 10rem;
            margin-bottom: 1.5rem;
            border-radius: 50%;
            object-fit: cover;
         }
      }
      .settings {
         width: 100%;
         height: 50%;
         padding: 1rem;

         .settings_container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
            width: max-content;
            cursor: pointer;

            p {
               font-size: 1.5rem;
               font-weight: 600;
            }

            img {
               width: 2.5rem;
               height: 2.5rem;
            }
         }
      }

      .logout {
         display: flex;
         justify-content: flex-end;
         width: 100%;
         height: 10%;
         padding: 1rem;

         .logout_container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: max-content;
            cursor: pointer;

            img {
               width: 2rem;
               height: 2rem;
            }
         }
      }
   }
}
